# static 사용을 피해야 하는 이유


- 오브젝트가 아닌 '클래스'에 귀속되는 것들을 명시하기 위한 키워드이다.
- 클래스의 모든 인스턴스에서 공유되는 단 하나의 static member의 인스턴스가 생성되도록 명령하는 키워드이다.





### 왜 피해야하는가
---

1. 전체 프로그램과 동일한 라이프 사이클
- static 멤버는 사용을 하던 사용하지 않던 프로그램의 시작과 끝까지 메모리 내에 존재한다.
- 이러한 이유로 static 멤버는 사용을 다 하더라도 메모리내에 존재한다.

2. static 변수의 생성과 소멸을 지시할 수 없음
- 프로그램이 로딩될 때 생성되고, 프로그램이 종료되거나 JVM이 내려갈 때 소멸 된다. 개발자가 프로그램적으로 생성과 소멸에 관여 할수 없다.

3. thread safe하지 않음
- 프로그램 전역에서 사용되기 때문에 모든 스레드에서 static필드를 공유하게 된다. 이때 한 스레드에서 값을 변경할 경우 다른 모든 스레드에서 영향을 받는다 이는 동시성 문제를 야기한다.
- 이러하여 synchronize를 사용하여 이를 보장하기 위해서는 추가적인 작업이 필요하다.

4. 메모리 문제
- static 멤버는 프로그램이 종료될 때까지 Garbage Collector로 회수되지 않기 때문에, 많은 수의 static 필드나 메서드가 존재할 경우 메모리에 영향을 미칩니다. static 필드에 데이터가 계속해서 쌓이게 되면 OutOfMemory가 발생할 수도 있다.

5. 테스트하기 어려움
- static 필드는 전역으로 관리되기 때문에 프로그램 전체에서 이 필드에 접근할 수 있고 변경할 수 있으므로 해당 필드를 추론하기 어려워 테스트하기가 까다롭다.

6. 유연성 감소 
- static 메서드와 변수는 오버라이딩(overriding)되지 않으므로 하위 클래스에서 동작을 변경하기가 어렵습니다. 이로 인해 상속의 유연성이 감소할 수 있다.

7. 의존성 관리 어려움 
- static 메서드나 변수는 변경된 내용을 추적하고 의존성을 관리하기 어렵게 만들 수 있따. 이로 인하여 코드가 복잡해지고 이해하기 어려워진다.

8. 결합도(커플링) 증가
- staic 변수나 메서드를 사용하면 클래스간 의 결합(커플링)이 증가 할 수 있다. 이는 코드를 재사용하기 어렵게 만들고 테스트와 유지 보수를 어렵게 한다.


**하지만!**  무조건 static의 사용이 나쁜것은 아니다. 
자주 사용하지만 절대 변하지 않는 변수, 즉 상수의 경우에는 관례적으로 final static을 사용하여 선언한다.
이 경우 적어도 1바이트 이상의 GC대상 객체가 사라지게 된다. GC가 애초에 대상으로 인식하지 않기 때문에 성능 향상에 도움을 줄 수 있다.
